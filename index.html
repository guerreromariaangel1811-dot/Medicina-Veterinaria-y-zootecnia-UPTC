<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Malla Curricular MVZ</title>

<style>
:root{
  --midnight:#105666;
  --beige:#F7F4D5;
  --rosy:#D3968C;
  --soft-gray:#E5E5E5;
}

body{
  margin:0;
  font-family:"Segoe UI", sans-serif;
  background:var(--beige);
}

h1{
  text-align:center;
  color:var(--midnight);
  margin:20px 0;
}

.year{
  margin:20px;
  padding:15px;
  border:3px solid var(--midnight);
  border-radius:16px;
  background:#fff;
}

.year h2{
  color:var(--midnight);
  margin-bottom:15px;
}

.year-grid{
  display:grid;
  grid-template-columns: repeat(2, 1fr);
  gap:20px;
}

.semester{
  border:2px solid var(--midnight);
  border-radius:12px;
  padding:10px;
}

.semester h3{
  text-align:center;
  color:var(--midnight);
  margin-bottom:10px;
}

.courses{
  display:grid;
  grid-template-columns: repeat(2, 1fr);
  gap:10px;
}

.course{
  aspect-ratio:1/1;
  background:white;
  border:1.5px solid var(--midnight);
  border-radius:10px;
  font-size:12px;
  display:flex;
  align-items:center;
  justify-content:center;
  text-align:center;
  padding:6px;
  cursor:pointer;
  position:relative;
}

.course.approved{
  background:var(--rosy);
  color:white;
  text-decoration:line-through;
  border-color:var(--rosy);
}

.course.locked{
  background:var(--soft-gray);
  color:#777;
  cursor:not-allowed;
  border-color:#bbb;
}

.course.locked:hover::after{
  content:attr(data-tooltip);
  position:absolute;
  bottom:110%;
  left:50%;
  transform:translateX(-50%);
  background:var(--midnight);
  color:white;
  padding:6px 8px;
  border-radius:6px;
  font-size:11px;
  white-space:nowrap;
}
</style>
</head>

<body>

<h1>Malla Curricular – Medicina Veterinaria y Zootecnia</h1>

<div id="container"></div>

<script>
const semesters = [
["Cátedra Universidad y Entorno","Competencias Comunicativas","Biología General","Bioquímica Aplicada I","Introducción a las Ciencias Agrarias"],
["Socio Humanística I","Suelos","Agroecología","Agrostología","Anatomía Veterinaria I","Bioquímica Aplicada II"],
["Ética y Política","Socio Humanística II","Economía Agraria","Anatomía Veterinaria II","Histología y Embriología Veterinaria","Genética y Mejoramiento Animal"],
["Metodología de la Investigación","Administración de Empresas Agropecuarias","Fisiología Veterinaria I","Inmunología Veterinaria","Microbiología y Enfermedades Microbianas Veterinarias","Parasitología y Enfermedades Parasitarias Veterinarias"],
["Desarrollo y Extensión Rural","Mercadeo Agropecuario","Epidemiología Veterinaria","Fisiología Veterinaria II","Patología Veterinaria General","Fundamentos de Nutrición Animal"],
["Formulación y Evaluación de Proyectos","Bioestadística y Diseño Experimental","Semiología Veterinaria","Laboratorio Clínico Veterinario","Salud Pública y Zoonosis","Alimentos y Alimentación Animal"],
["Producción Animal y Medio Ambiente","Agroindustria Alimentaria","Farmacología Veterinaria","Patología Sistémica Veterinaria","Electiva I"],
["Medicina y Producción de Animales de Granja","Terapéutica y Toxicología Veterinaria","Electiva II","Andrología Veterinaria","Cirugía Veterinaria"],
["Imágenes Diagnósticas en Veterinaria","Medicina y Producción Equina","Medicina y Producción de Caninos y Felinos","Medicina y Producción Acuícola","Electiva III","Electiva IV"],
["Rotación Clínica de Grandes Animales","Rotación Clínica de Pequeños Animales","Rotación en Granjas"]
];

const progress = JSON.parse(localStorage.getItem("mvzProgress")||"{}");

function save(){
  localStorage.setItem("mvzProgress",JSON.stringify(progress));
}

const container=document.getElementById("container");

for(let year=0; year<5; year++){
  const yearDiv=document.createElement("div");
  yearDiv.className="year";
  yearDiv.innerHTML=`<h2>Año ${year+1}</h2>`;

  const grid=document.createElement("div");
  grid.className="year-grid";

  for(let s=0; s<2; s++){
    const semIndex=year*2+s;
    const sem=document.createElement("div");
    sem.className="semester";
    sem.innerHTML=`<h3>Semestre ${semIndex+1}</h3>`;

    const courses=document.createElement("div");
    courses.className="courses";

    semesters[semIndex].forEach(course=>{
      const c=document.createElement("div");
      c.className="course";
      c.textContent=course;

      if(progress[course]) c.classList.add("approved");

      if(semIndex>0 && !progress[course]){
        const prev=semesters[semIndex-1];
        if(!prev.every(p=>progress[p])){
          c.classList.add("locked");
          c.dataset.tooltip="Debe aprobar el semestre anterior";
        }
      }

      c.onclick=()=>{
        if(c.classList.contains("locked")) return;
        progress[course]=!progress[course];
        save();
        location.reload();
      };

      courses.appendChild(c);
    });

    sem.appendChild(courses);
    grid.appendChild(sem);
  }

  yearDiv.appendChild(grid);
  container.appendChild(yearDiv);
}
</script>

</body>
</html>
